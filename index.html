<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Frontoffice Klok â€” Clean Countdown v6.7</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
  
  <style>
    @font-face {
      font-family: 'GT-Walsheim-Pro-Bold';
      src: url('GT-Walsheim-Pro-Bold.otf') format('opentype');
      font-weight: bold;
    }

    :root {
      --glass-bg: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.01) 100%);
      --glass-border: 1px solid rgba(255, 255, 255, 0.15);
      --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3), inset 0 0 0 1px rgba(255, 255, 255, 0.05);
      --glass-filter: blur(8px) saturate(120%); 
    }

    * { box-sizing: border-box; }
    
    html, body { 
      height: 100%; 
      margin: 0; 
      background-color: #0f172a; 
      color: #fff;
      font-family: 'GT-Walsheim-Pro-Bold', system-ui, -apple-system, sans-serif;
      overflow: hidden;
    }

    .grain {
      position: fixed;
      top: -150%;
      left: -150%;
      width: 300%;
      height: 300%;
      z-index: 1; 
      pointer-events: none;
      opacity: 0.5; 
      filter: url(#grainy);
      animation: noise 0.5s steps(3) infinite;
    }

    @keyframes noise {
      0% { transform: translate(0,0); }
      10% { transform: translate(-5%,-5%); }
      30% { transform: translate(5%,-10%); }
      50% { transform: translate(-10%,5%); }
      70% { transform: translate(0,10%); }
      90% { transform: translate(10%,5%); }
      100% { transform: translate(5%,0); }
    }

    .bg-container {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: 0;
      background: #0f172a; 
      overflow: hidden;
    }

    .orb {
      position: absolute;
      border-radius: 50%;
      filter: blur(60px); 
      opacity: 0.6;
      animation-timing-function: ease-in-out;
      animation-iteration-count: infinite;
      animation-direction: alternate;
      will-change: transform, opacity;
      transition: background-color 3s ease, filter 2s ease;
    }

    .orb1 { top: -10%; left: -5%; width: 22vw; height: 22vw; animation-name: float1; animation-duration: 43s; }
    .orb2 { bottom: -5%; right: 5%; width: 25vw; height: 25vw; animation-name: float2; animation-duration: 37s; }
    .orb3 { top: 20%; right: 25%; width: 18vw; height: 18vw; animation-name: float3; animation-duration: 51s; opacity: 0.4; }
    .orb4 { bottom: 15%; left: 10%; width: 15vw; height: 15vw; animation-name: float1; animation-duration: 35s; opacity: 0.3; }
    .orb5 { top: 45%; left: 40%; width: 12vw; height: 12vw; animation-name: float2; animation-duration: 41s; opacity: 0.35; }

    @keyframes pulse-fast {
      0% { transform: scale(1); opacity: 0.5; filter: blur(60px); }
      50% { transform: scale(1.4); opacity: 0.9; filter: blur(30px); }
      100% { transform: scale(1); opacity: 0.5; filter: blur(60px); }
    }
    .special-active { animation: pulse-fast 1.5s infinite ease-in-out !important; }

    @keyframes float1 { 0% { transform: translate(0, 0); } 50% { transform: translate(10vw, 15vh); } 100% { transform: translate(-5vw, 5vh); } }
    @keyframes float2 { 0% { transform: translate(0, 0); } 50% { transform: translate(-10vw, -10vh); } 100% { transform: translate(5vw, -15vh); } }
    @keyframes float3 { 0% { transform: translate(0, 0); } 100% { transform: translate(-20vw, 20vh); } }

    .container {
      height: 100vh;
      display: grid;
      grid-template-rows: 100px 1fr 120px;
      padding: 2rem;
      z-index: 2;
      position: relative;
    }

    header { display: flex; justify-content: space-between; align-items: flex-start; }

    .brand-title {
      display: flex; gap: 12px;
      font-size: clamp(20px, 1.8vw, 28px);
      text-transform: uppercase; font-weight: 800; letter-spacing: 1px;
    }
    .brand-frontoffice { color: #ffffff; }
    .brand-fzit { color: #9ea700; }

    .logo { height: 60px; filter: drop-shadow(0 0 10px rgba(255,255,255,0.2)); }

    main {
      display: flex; flex-direction: column;
      justify-content: center; align-items: center; text-align: center;
    }

    .clock-card {
      background: var(--glass-bg);
      backdrop-filter: blur(12px) saturate(160%); 
      -webkit-backdrop-filter: blur(12px) saturate(160%);
      padding: 3rem 5rem;
      border-radius: 40px;
      border: var(--glass-border);
      box-shadow: 0 25px 60px rgba(0,0,0,0.5), inset 0 0 40px rgba(255,255,255,0.05);
      position: relative;
      transition: box-shadow 1s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .clock-card.special-glow { box-shadow: 0 0 60px rgba(239, 68, 68, 0.4); }

    .clock-label { 
      font-size: 24px; 
      margin-bottom: 1rem; 
      opacity: 0.8; 
      
      min-height: 1.2em; 
      transition: opacity 0.5s ease;
    }

    .clock {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      font-size: clamp(100px, 16vw, 240px); 
      font-weight: 900; 
      line-height: 1; 
      margin: 0;
      font-variant-numeric: tabular-nums;
      background: linear-gradient(45deg, #ffffff 10%, #ffffff 25%, rgba(158, 167, 0, 0.6) 50%, #ffffff 75%, #ffffff 90%);
      background-size: 600% auto; 
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shine 45s linear infinite;
    }

    @keyframes shine {
      0% { background-position: 300% center; }
      100% { background-position: -300% center; }
    }

    .message {
      font-size: clamp(18px, 2.5vw, 24px);
      margin: 1.5rem auto 1rem; 
      min-height: 3em;
      max-width: 800px;
      text-transform: uppercase;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .card-countdown {
      display: none;
      opacity: 0.5;
      margin-top: 1rem;
      padding-top: 1.5rem;
      border-top: 1px solid rgba(255,255,255,0.1);
      width: 100%;
      font-size: 1.3rem;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .highlight { color: #9ea700; font-weight: bold; margin-left: 8px; }

    footer { 
      display: flex; 
      align-items: flex-end; 
      overflow: hidden; 
      position: absolute; 
      bottom: 0; 
      left: 0; 
      width: 100%;
    }

    .ticker-wrap {
      width: 100%; 
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(15px); 
      -webkit-backdrop-filter: blur(15px);
      padding: 1rem 0;
      overflow: hidden;
    }

    #counter {
      white-space: nowrap; 
      display: inline-block; 
      font-size: 1.5rem; 
      padding-left: 100vw; 
      animation: ticker 40s linear infinite; 
      text-transform: uppercase;
      will-change: transform;
    }

    @keyframes ticker { 
      0% { transform: translate3d(0, 0, 0); } 
      100% { transform: translate3d(-100%, 0, 0); }
    }
  </style>
</head>
<body>

  <svg style="display: none;">
    <filter id="grainy">
      <feTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch" />
      <feColorMatrix type="saturate" values="0" />
    </filter>
  </svg>
  <div class="grain"></div>

  <div class="bg-container">
    <div id="orb1" class="orb orb1"></div>
    <div id="orb2" class="orb orb2"></div>
    <div id="orb3" class="orb orb3"></div>
    <div id="orb4" class="orb orb4"></div>
    <div id="orb5" class="orb orb5"></div>
  </div>

  <div class="container">
    <header>
      <div class="brand-title">
        <span class="brand-frontoffice">Frontoffice</span>
        <span class="brand-fzit">FZIT</span>
      </div>
      <img src="HHS_grijs_fc copy.png" alt="Logo" class="logo" onerror="this.style.display='none'"/>
    </header>

    <main>
      <div id="card" class="clock-card">
        <div id="dynamic-label" class="clock-label">De tijd bij Frontoffice FZ&IT is momenteel:</div>
        <div id="clock" class="clock">00:00</div>
        <div id="message" class="message"></div>
        
        <div class="card-countdown">
          <span id="countdown-label">Weekend in:</span>
          <span id="countdown-time" class="highlight">...</span>
        </div>
      </div>
    </main>

    <footer>
      <div class="ticker-wrap">
        <div id="counter">Systeem wordt geÃ¯nitialiseerd...</div>
      </div>
    </footer>
  </div>

  <script>
    const CONFIG = {
      days: ["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],
      months: ["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],
    };

    const workQuotes = {
      "08:00": "De dag is gestart. Koffie is je beste vriend.",
      "08:30": "Rustig opstarten. Wij fixen het wel.",
      "09:00": "Meldingen onder controle? Jij bent de baas.",
      "09:30": "Vol gas. De Frontoffice draait op volle toeren.",
      "10:00": "Tijd voor de eerste ronde koffie.",
      "10:30": "Techniek faalt, maar jij niet.",
      "11:00": "Nog even doorbijten tot de lunch.",
      "11:30": "Bijna lunchtijd, held!",
      "12:00": "Eet smakelijk! ðŸ¥ª Tijd om op te laden.",
      "12:30": "Snack-verantwoordelijkheid ontgrendeld.",
      "13:00": "De middagshift. Heldenwerk, fr.",
      "13:30": "Focus level van een ninja(tje)",
      "14:00": "Geen stress, alleen oplossingen.",
      "14:30": "Je bent unstoppable.",
      "15:00": "Nog even... Kijk nog even in TOPdesk?",
      "15:30": "Bijna daar. Keep at it!",
      "16:00": "Laatste sprint van de dag ploeg.",
      "16:29": "âš ï¸ ATTENTIE: Het einde is nabij âš ï¸",
      "16:30": "Dagploeg bedankt. Avondploeg succes!",
      "17:00": "Doorzetter detected ðŸ‘€",
      "17:30": "Avonddienst: De echte bikkels.",
      "18:30": "Nog heel even volhouden.",
      "19:29": "Inpakken en wegwezen! Goed gewerkt.",
      "19:30": "Systeem offline. Tijd voor ontspanning."
    };

    const tickerTexts = {
      outside: [
        "âœ¨ Het is buiten werktijd. Dit systeem mist je al, maar jij hoeft er niet te zijn âœ¨",
        "âœ¨ Buiten de shift en tÃ³ch hier? Dapper. Maargoed, fijne avond! âœ¨",
        "âœ¨ Geen dienst, geen stress, geen tickets. Vrijheid âœ¨",
        "âœ¨ Je bent off-duty. Zelfs Directory Manager zou dit begrijpen âœ¨",
        "âœ¨ De Frontoffice slaapt. Jij zou dat ook moeten doen âœ¨"
      ],
      motivation: [
        "Het is weer begonnen, die werkdag. We gaan het gewoon doen",
        "Jij draait als een oude follow me printer. Piepend, maar functioneel",
        "Je houdt het vol, ook zonder verwarming",
        "Je zit in een prima flow. Niet geweldig, niet slecht, gewoon... werk",
        "Systemen crashen? Jij niet. Jij bent de laatste Directory Manager die overeind blijft",
        "Je hebt de vibe van iemand die Azure AD met Ã©Ã©n hand kan fixen",
        "Je bent officieel boven verwachting aan het functioneren",
        "De energie komt op gang. Je bent basically een menselijke OpenIDM-sync",
        "Je gaat harder dan Ozan die een teamuitje planned",
        "Dit begint op iets indrukwekkends te lijken. De backoffice voelt je aanwezigheid",
        "Halverwege en je straalt als een monitor in het donker",
        "Je hebt meer momentum dan de mensen in Poseidon",
        "Je workflow is smoother dan een havercappu van Stacey",
        "De eindtijd voelt ineens realistisch. Tijd? Tijd is een illusion. Jij niet",
        "Je bent on fire. Als iemand nu belt met: Mijn wachtwoord werkt niet... you got this",
        "Je bent basically de Functioneel Beheerder Onstage van deze werkdag",
        "Je houdt de boel bij elkaar als duct tape in een serverruimte",
        "Je bent sneller dan het moment dat DM eindelijk werd uitgefaseerd",
        "Ruik je die finish al? Hij ruikt naar vrijheid en een warme jas",
        "Laatste fase. Je gaat als een tierelier. De tijd is bang voor jou",
        "JIJ. BENT. EEN. LEGENDE. De eindtijd buigt voor je. Het universum applaudisseert"
      ],
      moods: ["mooie", "vreselijke", "matige", "neutrale", "prima", "fantastische", "mooie"]
    };

    let lastQuoteKey = "";
    let lastMode = ""; 
    let lastMessageText = "";
    let weatherString = "Het weerbericht is onderweg...";
    let nextTickerContent = ""; 
    let typingTimer = null;
    let labelToggle = true; 

    const two = n => String(n).padStart(2, '0');

    const els = {
        clock: document.getElementById('clock'),
        dynamicLabel: document.getElementById('dynamic-label'),
        message: document.getElementById('message'),
        counter: document.getElementById('counter'),
        card: document.getElementById('card'),
        cdLabel: document.getElementById('countdown-label'),
        cdTime: document.getElementById('countdown-time'),
        orbs: [document.getElementById('orb1'), document.getElementById('orb2'), document.getElementById('orb3'), document.getElementById('orb4'), document.getElementById('orb5')]
    };

    function typeMessage(text) {
      if (typingTimer) clearInterval(typingTimer);
      els.message.textContent = "";
      let i = 0;
      typingTimer = setInterval(() => {
        if (i < text.length) {
          els.message.textContent += text.charAt(i);
          i++;
        } else {
          clearInterval(typingTimer);
        }
      }, 50);
    }

    async function updateWeather() {
      try {
        const res = await fetch('https://api.open-meteo.com/v1/forecast?latitude=52.0767&longitude=4.2986&current=temperature_2m,weather_code&timezone=Europe%2FBerlin');
        const data = await res.json();
        const temp = Math.round(data.current.temperature_2m);
        const code = data.current.weather_code;
        let desc = "Lekker weertje";
        let icon = "ðŸŒ¤ï¸";
        if (code === 0) { desc = "Zonnig"; icon = "â˜€ï¸"; }
        else if (code <= 3) { desc = "Licht bewolkt"; icon = "â›…"; }
        else if (code <= 48) { desc = "Mistig"; icon = "ðŸŒ«ï¸"; }
        else if (code <= 67) { desc = "Regenachtig"; icon = "ðŸŒ§ï¸"; }
        else if (code <= 77) { desc = "Sneeuw"; icon = "â„ï¸"; }
        else if (code <= 82) { desc = "Buien"; icon = "ðŸŒ¦ï¸"; }
        else if (code >= 95) { desc = "Onweer"; icon = "â›ˆï¸"; }
        else { desc = "Bewolkt"; icon = "â˜ï¸"; }
        weatherString = `Het weer buiten De Haagse is giving ${temp}Â°C en het is ${desc} ${icon}`;
      } catch (e) {
        weatherString = "Weer momenteel niet beschikbaar";
      }
    }

    function checkIsOpen(now) {
      const day = now.getDay();
      const h = now.getHours();
      const m = now.getMinutes();
      const totalMins = h * 60 + m;
      if (day >= 1 && day <= 4) return (totalMins >= 8*60 && totalMins < 19.5*60);
      if (day === 5) return (totalMins >= 8*60 && totalMins < 17*60);
      return false;
    }

    function updateCountdown(now) {
      const isOpen = checkIsOpen(now);
      const countdownContainer = document.querySelector('.card-countdown');
      if (!isOpen) {
          countdownContainer.style.display = 'none';
          return;
      } else {
          countdownContainer.style.display = 'block';
      }
      const day = now.getDay();
      let target = new Date(now);
      let isWeekendCountdown = true;
      if (day === 5 && now.getHours() < 17) {
          target.setHours(17, 0, 0, 0);
      } else if (day === 6 || day === 0 || (day === 5 && now.getHours() >= 17) || (day === 1 && now.getHours() < 8)) {
          isWeekendCountdown = false;
          target.setDate(now.getDate() + ((day === 0 ? 1 : day === 1 ? 0 : day === 6 ? 2 : 3)));
          target.setHours(8, 0, 0, 0);
      } else {
          let daysToFri = (5 - day + 7) % 7;
          target.setDate(now.getDate() + daysToFri);
          target.setHours(17, 0, 0, 0);
      }
      const diff = target - now;
      const d = Math.floor(diff / (1000 * 60 * 60 * 24));
      const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
      els.cdLabel.textContent = isWeekendCountdown ? "(Pssstt... het weekend begint over" : "(Werken begint weer over";
      let displayStr = "";
      if (d > 0) {
          const dagLabel = (d === 1) ? "dag" : "dagen";
          displayStr += `${d} ${dagLabel} en `;
      }
      const uurLabel = (h === 1) ? "uur)" : "uren)";
      displayStr += `${h} ${uurLabel}`;
      els.cdTime.textContent = displayStr;
    }

    function updateVisuals(now) {
      const h = now.getHours();
      const m = now.getMinutes();
      const day = now.getDay();
      const isOpen = checkIsOpen(now);
      let newMode = "night";
      if (day >= 1 && day <= 5 && h === 16 && m === 29) {
        newMode = "special";
      } else if (isOpen) {
        newMode = "day";
      }
      if (newMode !== lastMode) {
        lastMode = newMode;
        let c = (newMode === "special") ? ["#ef4444", "#ffba00", "#ffffff", "#ef4444", "#ffba00"] :
                (newMode === "day") ? ["#9ea700", "#ffba00", "#00b2cd", "#9ea700", "#ffba00"] :
                ["#1e3a8a", "#4c1d95", "#312e81", "#1e3a8a", "#1e1b4b"];
        if (newMode === "special") {
            els.orbs.forEach(orb => orb.classList.add('special-active'));
            els.card.classList.add('special-glow');
        } else {
            els.orbs.forEach(orb => orb.classList.remove('special-active'));
            els.card.classList.remove('special-glow');
        }
        els.orbs.forEach((orb, i) => orb.style.backgroundColor = c[i]);
      }

      // --- LOGICA VOOR BOODSCHAP EN TIK-EFFECT ---
      const timeKey = `${two(h)}:${two(m)}`;
      const textToShow = isOpen 
        ? (workQuotes[timeKey] || workQuotes[`${two(h)}:${m < 30 ? "00" : "30"}`] || "Lekker bezig!") 
        : "De Frontoffice is momenteel gesloten.";

      if (textToShow !== lastMessageText) {
        typeMessage(textToShow);
        lastMessageText = textToShow;
        lastQuoteKey = timeKey;
      }
    }

    function toggleLabel() {
      const now = new Date();
      const isOpen = checkIsOpen(now);
      const dateStr = `Het is vandaag ${CONFIG.days[now.getDay()]} ${now.getDate()} ${CONFIG.months[now.getMonth()]} ${now.getFullYear()}`;
      const defaultStr = "De tijd bij Frontoffice FZ&IT is momenteel:";
      
      els.dynamicLabel.style.opacity = 0;
      
      setTimeout(() => {
        if (isOpen) {
          if (!labelToggle) {
            els.dynamicLabel.textContent = dateStr;
            els.dynamicLabel.style.textTransform = "none";
          } else {
            els.dynamicLabel.textContent = defaultStr;
            els.dynamicLabel.style.textTransform = "none";
          }
          labelToggle = !labelToggle;
        } else {
          els.dynamicLabel.textContent = defaultStr;
          els.dynamicLabel.style.textTransform = "uppercase";
        }
        els.dynamicLabel.style.opacity = 0.8;
      }, 500);
    }

    function tick() {
      const now = new Date();
      els.clock.textContent = `${two(now.getHours())}:${two(now.getMinutes())}`;
      updateVisuals(now);
      updateCountdown(now);
      const isOpen = checkIsOpen(now);
      const isWorkday = (now.getDay() >= 1 && now.getDay() <= 5);
      let tickerText = "";
      if (isWorkday && now.getHours() === 7 && now.getMinutes() >= 45) {
          const totalSecondsUntilEight = (15 * 60) - ((now.getMinutes() - 45) * 60 + now.getSeconds());
          const displayMins = Math.floor(totalSecondsUntilEight / 60);
          const displaySecs = totalSecondsUntilEight % 60;
          tickerText = `âš ï¸ ATTENTIE: De werkdag begint over precies ${displayMins} minuten en ${displaySecs} seconden âš ï¸`;
          nextTickerContent = tickerText; 
      } else if (isOpen) {
          const isFriday = now.getDay() === 5;
          const endH = isFriday ? 17 : 19.5;
          const shiftEnd = new Date(now); shiftEnd.setHours(Math.floor(endH), (endH % 1) * 60, 0, 0);
          const minsLeft = Math.ceil((shiftEnd - now) / 60000);
          const motivationIdx = (now.getHours() + now.getDay()) % tickerTexts.motivation.length; 
          tickerText = `âœ¨ Welkom bij Frontoffice FZ&IT âœ¨ Nog ${minsLeft} minuten tot einde shift op deze ${tickerTexts.moods[now.getDay()]} ${CONFIG.days[now.getDay()]} âœ¨ ${tickerTexts.motivation[motivationIdx]}`;
          nextTickerContent = `${tickerText} âœ¨ ${weatherString}`;
      } else {
          const outsideIdx = now.getMinutes() % tickerTexts.outside.length;
          nextTickerContent = tickerTexts.outside[outsideIdx];
      }
      if (els.counter.textContent === "Systeem wordt geÃ¯nitialiseerd...") {
        els.counter.textContent = nextTickerContent;
      }
    }

    els.counter.addEventListener('animationiteration', () => {
      els.counter.textContent = nextTickerContent;
    });

    updateWeather();
    setInterval(updateWeather, 600000); 
    tick(); 
    setInterval(tick, 1000);
    toggleLabel(); 
    setInterval(toggleLabel, 20000);
  </script>
</body>
</html>
