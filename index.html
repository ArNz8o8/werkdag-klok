<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Frontoffice TV Dashboard</title>
  
  <style>
  
    @font-face {
      font-family: 'GT-Walsheim-Bold';
      src: url('GT-Walsheim-Pro-Bold.otf') format('opentype');
      font-weight: bold;
      font-style: normal;
    }

    :root {
      --bg-color: #000000;
      --bg-work: #353800;    
      --bg-alarm: #ca433c;   
      --card-bg: rgba(20, 20, 20, 0.8);
      --border-color: rgba(255, 255, 255, 0.15);
      --accent-default: #dfff00; 
      --text-main: #ffffff;
      --orb-c1: #dfff00;
      --orb-c2: #00b2cd;
      --status-green: #00ff66;
      --status-red: #ff3333;
 
      --font-main: 'GT-Walsheim-Bold', sans-serif;
      --font-mono: 'JetBrains Mono', monospace;
    }

    * { box-sizing: border-box; }
    
    html, body { 
      height: 100%; 
      margin: 0; 
      background-color: var(--bg-color); 
      color: var(--text-main);
      font-family: var(--font-main);
      overflow: hidden;
      cursor: none;
      transition: background-color 2s ease-in-out;
    }

    .bg-grid {
      position: fixed;
      inset: 0;
      background-image: 
        linear-gradient(to right, #222 2px, transparent 2px),
        linear-gradient(to bottom, #222 2px, transparent 2px);
      background-size: 5vw 5vw; 
      opacity: 0.4;
      z-index: 0;
    }

    .ambient-light {
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events: none;
      filter: blur(8vw);
      opacity: 0.5;
    }

    .orb { position: absolute; border-radius: 50%; transition: background-color 3s ease, transform 10s ease; }
    .orb1 { top: 10%; left: 15%; width: 35vw; height: 35vw; background: var(--orb-c1); opacity: 0.25; animation: floatSlow 20s infinite alternate; }
    .orb2 { bottom: 10%; right: 15%; width: 40vw; height: 40vw; background: var(--orb-c2); opacity: 0.20; animation: floatSlow 25s infinite alternate-reverse; }

    @keyframes floatSlow { 0% { transform: translate(0,0); } 100% { transform: translate(4vw, 4vw); } }
    @keyframes pulse-alarm { 0% { opacity: 0.3; } 50% { opacity: 0.9; } 100% { opacity: 0.3; } }

    @keyframes shine {
      0% { background-position: -200% center; }
      100% { background-position: 200% center; }
    }

    .special-active .orb { animation: pulse-alarm 1s infinite !important; }

    .app-container {
      position: relative;
      z-index: 2;
      height: 100vh;
      display: flex;
      flex-direction: column;
      padding: 3vh 3vw;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2vh;
      flex-shrink: 0;
      border-bottom: 2px solid var(--border-color);
      padding-bottom: 2vh;
    }

    .brand-text {
      font-family: var(--font-main);
      font-size: clamp(20px, 4vh, 60px);
      font-weight: 700;
      text-transform: uppercase;
    }

    .brand-accent { color: var(--accent-default); }
    
    .status-pill {
      font-family: var(--font-mono);
      font-size: clamp(12px, 2.5vh, 24px);
      background: rgba(255,255,255,0.1);
      padding: 1vh 2vw;
      border-radius: 100px;
      border: 2px solid var(--border-color);
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .status-dot { 
      width: 1.5vh; 
      height: 1.5vh; 
      border-radius: 50%; 
      background-color: var(--status-green); 
      box-shadow: 0 0 15px var(--status-green); 
      transition: all 0.5s ease; 
    }

    .status-pill.is-offline .status-dot { 
      background-color: var(--status-red); 
      box-shadow: 0 0 15px var(--status-red); 
    }

    main {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      overflow: hidden;
    }

    .card {
      background: var(--card-bg);
      border: 2px solid var(--border-color);
      border-radius: 40px;
      padding: 4vh 4vw;
      backdrop-filter: blur(30px);
      display: grid;
      grid-template-rows: auto 1fr auto auto; 
      align-items: center;
      text-align: center;
      width: 100%;
      height: 100%;
    }

    .clock-section.special-glow {
      box-shadow: 0 0 100px rgba(239, 68, 68, 0.4), inset 0 0 40px rgba(239, 68, 68, 0.2);
      border-color: rgba(239, 68, 68, 0.8);
    }

    .clock-label {
      font-family: var(--font-main);
      color: var(--accent-default);
      font-size: clamp(14px, 2.5vh, 32px);
      letter-spacing: 2px;
      margin-bottom: 1vh;
      opacity: 0.9;
      min-height: 1.5em;
    }

    .clock {
      font-family: var(--font-main);
      font-weight: 800;
      font-size: clamp(80px, 22vw, 40vh); 
      line-height: 1;
      font-variant-numeric: tabular-nums;
      background: linear-gradient(
        120deg, 
        rgba(255,255,255,1) 40%, 
        rgba(255,255,255,0.3) 50%, 
        rgba(255,255,255,1) 60%
      );
      background-size: 200% auto;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin: 0;
      animation: shine 15s linear infinite;
    }

    .message {
      font-family: var(--font-main);
      font-size: clamp(18px, 4vh, 50px);
      font-weight: 700;
      color: #eeeeee;
      margin: 2vh auto;
      max-width: 90%;
      line-height: 1.2;
      min-height: 2.4em;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .countdown-wrapper {
      padding: 1.5vh 3vw;
      background: rgba(255, 255, 255, 0.08);
      border-radius: 20px;
      border: 2px solid var(--border-color);
      min-height: 6vh;
      display: flex;
      align-items: center;
      justify-content: center;
      width: fit-content;      
      margin-left: auto;      
      margin-right: auto;      
      min-width: 300px;        
      max-width: 80%;          
    }

    .countdown-text {
      font-family: var(--font-main);
      font-size: clamp(14px, 2.5vh, 30px);
    }
    
    .countdown-highlight {
      color: var(--accent-default);
      font-weight: 700;
    }

    footer {
      border-top: 2px solid var(--border-color);
      margin-top: 2vh;
      height: 8vh;
      flex-shrink: 0;
      background: rgba(0,0,0,0.4);
      border-radius: 20px;
      overflow: hidden;
      display: flex;
      align-items: center;
    }

    .ticker-icon {
      padding: 0 2vw;
      z-index: 10;
      color: var(--accent-default);
      background: #000;
      font-family: var(--font-mono);
      font-size: clamp(16px, 3vh, 35px);
      font-weight: 700;
      height: 100%;
      display: flex;
      align-items: center;
    }

    #counter {
      display: inline-block;
      white-space: nowrap;
      padding-left: 100%;
      animation: ticker 60s linear infinite;
      will-change: transform;
      -webkit-font-smoothing: antialiased;
      font-family: var(--font-main);
      font-size: clamp(16px, 3vh, 35px);
      font-weight: 700;
      text-transform: uppercase;
      color: #e0e0e0;
    }

    @keyframes ticker {
      0% { transform: translate3d(0, 0, 0); }
      100% { transform: translate3d(-100%, 0, 0); }
    }
  </style>
</head>
<body>

  <div class="bg-grid"></div>
  <div class="ambient-light">
    <div id="orb1" class="orb orb1"></div>
    <div id="orb2" class="orb orb2"></div>
    <div id="orb3" class="orb orb3"></div>
    <div id="orb4" class="orb orb4"></div>
    <div id="orb5" class="orb orb5"></div>
  </div>

  <div class="app-container">
    <header>
      <div class="brand">
        <div class="brand-text">Frontoffice <span class="brand-accent">FZIT</span></div>
      </div>
      <div id="status-pill" class="status-pill">
        <div class="status-dot"></div>
        <span id="status-text">SYSTEM ONLINE</span>
      </div>
    </header>

    <main>
      <div id="card" class="card clock-section">
        <div id="dynamic-label" class="clock-label">De tijd bij Frontoffice FZ&IT is momenteel:</div>
        <div id="clock" class="clock">00:00</div>
        <div id="message" class="message">Laden...</div>
        
        <div id="countdown-container" class="countdown-wrapper" style="visibility: hidden;">
          <span class="countdown-text"><span id="countdown-label"></span> <span id="countdown-time" class="countdown-highlight"></span></span>
        </div>
      </div>
    </main>

    <footer>
      <div class="ticker-icon">>_LOG:</div>
      <div class="ticker-wrap" style="width: 100%; overflow: hidden;">
        <div id="counter">Systeem wordt ge√Ønitialiseerd...</div>
      </div>
    </footer>
  </div>

  <script>
    const CONFIG = {
      days: ["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],
      months: ["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],
    };

    const workQuotes = {
      "08:00": "De dag is gestart. Koffie is je beste vriend.",
      "08:30": "Rustig opstarten. Wij fixen het wel.",
      "09:00": "Meldingen onder controle? Jij bent de baas.",
      "09:30": "Vol gas. De Frontoffice draait op volle toeren.",
      "10:00": "Tijd voor de eerste ronde koffie.",
      "10:30": "Techniek faalt, maar jij niet.",
      "11:00": "Nog even doorbijten tot de lunch.",
      "11:30": "Bijna lunchtijd, held!",
      "12:00": "Eet smakelijk! ü•™ Tijd om op te laden.",
      "12:30": "Snack-verantwoordelijkheid ontgrendeld.",
      "13:00": "De middagshift. Heldenwerk, fr.",
      "13:30": "Focus level van een ninja(tje)",
      "14:00": "Geen stress, alleen oplossingen.",
      "14:30": "Je bent unstoppable.",
      "15:00": "Nog even... Kijk nog even in TOPdesk?",
      "15:30": "Bijna daar. Keep at it!",
      "16:00": "Laatste sprint van de dag ploeg.",
      "16:29": "‚ö†Ô∏è ATTENTIE: Het einde is nabij ‚ö†Ô∏è",
      "16:30": "Dagploeg bedankt. Avondploeg succes!",
      "17:00": "Doorzetter detected üëÄ",
      "17:30": "Avonddienst: De echte bikkels.",
      "18:30": "Nog heel even volhouden.",
      "19:29": "Inpakken en wegwezen! Goed gewerkt.",
      "19:30": "Systeem offline. Tijd voor ontspanning."
    };

    const tickerTexts = {
      outside: [
        "‚ú® Het is buiten werktijd. Dit systeem mist je al, maar jij hoeft er niet te zijn ‚ú®",
        "‚ú® Buiten de shift en t√≥ch hier? Dapper. Maargoed, fijne avond! ‚ú®",
        "‚ú® Geen dienst, geen stress, geen tickets. Vrijheid ‚ú®",
        "‚ú® Je bent off-duty. Zelfs Directory Manager zou dit begrijpen ‚ú®",
        "‚ú® De Frontoffice slaapt. Jij zou dat ook moeten doen ‚ú®"
      ],
      motivation: [
        "De koffie staat klaar, de systemen ook. We gaan er weer tegenaan vandaag",
        "Je bent vandaag zo scherp, je zou Stacey's havercappu-machine kunnen kalibreren",
        "Zelfs Poseidon heeft niet zoveel stroming als jouw workflow op dit moment",
        "Je bent als een ticket dat direct op 'Opgelost' springt: pure magie",
        "Ozan is al jaloers op de planning die jij vandaag hanteert",
        "Je bent de menselijke firewall die elke verstoring buiten de deur houdt",
        "Je gaat vandaag harder dan een onverwachte update op een vrijdagmiddag",
        "De backoffice kijkt met bewondering naar je schermtijd. Lekker bezig",
        "Je bent de enige stabiele factor in deze infrastructuur vandaag",
        "Volgens mij is het tijd voor een Stacey-special of gewoon een brownie",
        "Je bent als een schone installatie: geen ruis, alleen maar pure snelheid",
        "Zelfs de meest complexe Azure-error lost zichzelf op als jij ernaar kijkt",
        "Je hebt meer focus dan een admin die per ongeluk de productie-db heeft gedropt",
        "Je bent de onoffici√´le MVP van de afdeling vandaag, echt waar",
        "Nog even knallen, je bent sneller klaar dan Ozan een teamuitje regelt",
        "Je workflow is vandaag zo smooth, het lijkt wel een demo-video",
        "De finish is in zicht. De VPN houdt het vol, en jij ook",
        "Je bent de laatste barri√®re tussen orde en totale digitale chaos",
        "Nog een paar swipes en tickets, dan mag de jas weer aan",
        "Je bent de menselijke uitvoering van een 'high availability' cluster",
        "DONE. Je hebt deze dag ge-commit en gepusht als een eindbaas"
      ],
      moods: ["mooie", "vreselijke", "matige", "neutrale", "prima", "fantastische", "mooie"]
    };

    let lastMode = ""; 
    let lastMessageText = "";
    let weatherString = "Het weerbericht wordt geladen... ‚ú®";
    let newsString = "Nieuws wordt geladen.. ‚ú®";
    let nextTickerContent = ""; 
    let typingTimer = null;
    let labelToggle = true; 

    const two = n => String(n).padStart(2, '0');
    const els = {
        clock: document.getElementById('clock'),
        dynamicLabel: document.getElementById('dynamic-label'),
        message: document.getElementById('message'),
        counter: document.getElementById('counter'),
        card: document.getElementById('card'),
        cdLabel: document.getElementById('countdown-label'),
        cdTime: document.getElementById('countdown-time'),
        cdContainer: document.getElementById('countdown-container'),
        statusPill: document.getElementById('status-pill'),
        statusText: document.getElementById('status-text'),
        orbs: [document.getElementById('orb1'), document.getElementById('orb2'), document.getElementById('orb3'), document.getElementById('orb4'), document.getElementById('orb5')]
    };

    function typeMessage(text) {
      if (typingTimer) clearInterval(typingTimer);
      els.message.textContent = "";
      let i = 0;
      typingTimer = setInterval(() => {
        if (i < text.length) {
          els.message.textContent += text.charAt(i);
          i++;
        } else { clearInterval(typingTimer); }
      }, 50);
    }

    async function updateWeather() {
      try {
        const res = await fetch('https://api.open-meteo.com/v1/forecast?latitude=52.0767&longitude=4.2986&current=temperature_2m,weather_code&timezone=Europe%2FBerlin');
        const data = await res.json();
        const temp = Math.round(data.current.temperature_2m);
        const code = data.current.weather_code;
        let desc = "Lekker weertje"; let icon = "üå§Ô∏è";
        if (code === 0) { desc = "Zonnig"; icon = "‚òÄÔ∏è"; }
        else if (code <= 3) { desc = "Licht bewolkt"; icon = "‚õÖ"; }
        else if (code <= 48) { desc = "Mistig"; icon = "üå´Ô∏è"; }
        else if (code <= 67) { desc = "Regenachtig"; icon = "üåßÔ∏è"; }
        else if (code <= 77) { desc = "Sneeuw"; icon = "‚ùÑÔ∏è"; }
        else if (code <= 82) { desc = "Buien"; icon = "üå¶Ô∏è"; }
        else if (code >= 95) { desc = "Onweer"; icon = "‚õàÔ∏è"; }
        else { desc = "Bewolkt"; icon = "‚òÅÔ∏è"; }
        weatherString = `Het weer buiten De Haagse is giving ${temp}¬∞C en het is ${desc} ${icon}`;
      } catch (e) { weatherString = "Weer momenteel niet beschikbaar"; }
    }

    async function updateNews() {
      try {
        const rssUrl = encodeURIComponent('https://feeds.nos.nl/nosnieuwsalgemeen');
        const res = await fetch(`https://api.rss2json.com/v1/api.json?rss_url=${rssUrl}&t=${Date.now()}`);
        const data = await res.json();
        if (data.status === 'ok') {
          const lastItem = data.items[0];
          newsString = `LAATSTE NIEUWS // ${lastItem.title.toUpperCase()}`;
        }
      } catch (e) { newsString = "Nieuws tijdelijk niet beschikbaar"; }
    }

    function checkIsOpen(now) {
      const day = now.getDay();
      const h = now.getHours();
      const m = now.getMinutes();
      const totalMins = h * 60 + m;
      if (day >= 1 && day <= 4) return (totalMins >= 8*60 && totalMins < 19.5*60);
      if (day === 5) return (totalMins >= 8*60 && totalMins < 17*60);
      return false;
    }

    function updateCountdown(now) {
      const isOpen = checkIsOpen(now);
      if (!isOpen) { 
        els.cdContainer.style.visibility = 'hidden'; 
        return; 
      } else { 
        els.cdContainer.style.visibility = 'visible'; 
      }

      const day = now.getDay();
      const hour = now.getHours();
      let target = new Date(now);

      if (day === 5 && hour < 17) {
        target.setHours(17, 0, 0, 0);
        const diff = target - now;
        const h = Math.floor(diff / (1000 * 60 * 60));
        const m = Math.floor((diff / (1000 * 60)) % 60);
        els.cdLabel.textContent = "(Pssstt... het weekend begint over ";
        let timeText = h > 0 ? `${h} uur en ${m} min` : `${m} minuten`;
        els.cdTime.innerHTML = `${timeText}<span style="color: white;">)</span>`;
        return; 
      }
      
      let daysToFri = (5 - day + 7) % 7;
      if (daysToFri === 0 && hour >= 17) daysToFri = 7;
      
      target.setDate(now.getDate() + daysToFri);
      target.setHours(17, 0, 0, 0);

      const diff = target - now;
      const d = Math.floor(diff / (1000 * 60 * 60 * 24));
      const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
      
      els.cdLabel.textContent = "(Pssstt... het weekend begint over ";
      let timeTextLong = d > 0 ? `${d} ${d === 1 ? "dag" : "dagen"} en ${h} uur` : `${h} uur`;
      els.cdTime.innerHTML = `${timeTextLong}<span style="color: white;">)</span>`;
    }

    function updateVisuals(now) {
      const h = now.getHours();
      const m = now.getMinutes();
      const day = now.getDay();
      const isOpen = checkIsOpen(now);
      const timeKey = `${two(h)}:${two(m)}`;

      if (h === 16 && m === 29 && day >= 1 && day <= 5) {
          document.body.style.backgroundColor = "var(--bg-alarm)";
      } else if (isOpen) {
          document.body.style.backgroundColor = "var(--bg-work)";
          els.statusPill.classList.remove('is-offline');
          els.statusText.textContent = "SYSTEM ONLINE";
      } else {
          document.body.style.backgroundColor = "var(--bg-color)";
          els.statusPill.classList.add('is-offline');
          els.statusText.textContent = "SYSTEM OFFLINE";
      }

      let newMode = (day >= 1 && day <= 5 && h === 16 && m === 29) ? "special" : (isOpen ? "day" : "night");

      if (newMode !== lastMode) {
        lastMode = newMode;
        let c = (newMode === "special") ? ["#ef4444", "#ffba00", "#ffffff", "#ef4444", "#ffba00"] :
                (newMode === "day") ? ["#9ea700", "#ffba00", "#00b2cd", "#9ea700", "#ffba00"] :
                ["#1e3a8a", "#4c1d95", "#312e81", "#1e3a8a", "#1e1b4b"];
        if (newMode === "special") { document.body.classList.add('special-active'); els.card.classList.add('special-glow'); } 
        else { document.body.classList.remove('special-active'); els.card.classList.remove('special-glow'); }
        els.orbs.forEach((orb, i) => { if(orb) orb.style.backgroundColor = c[i]; });
      }

      const textToShow = workQuotes[timeKey] || (isOpen ? (workQuotes[`${two(h)}:${m < 30 ? "00" : "30"}`] || "Lekker bezig!") : "De Frontoffice is momenteel gesloten.");
      if (textToShow !== lastMessageText) { typeMessage(textToShow); lastMessageText = textToShow; }
    }

    function toggleLabel() {
      const now = new Date();
      const dateStr = `Het is vandaag ${CONFIG.days[now.getDay()]} ${now.getDate()} ${CONFIG.months[now.getMonth()]} ${now.getFullYear()}`;
      const defaultStr = "De tijd bij Frontoffice FZ&IT is momenteel:";
      els.dynamicLabel.style.opacity = 0;
      setTimeout(() => {
        els.dynamicLabel.textContent = labelToggle ? defaultStr : dateStr;
        els.dynamicLabel.style.opacity = 0.9;
        labelToggle = !labelToggle;
      }, 500);
    }

    function tick() {
      const now = new Date();
      els.clock.textContent = `${two(now.getHours())}:${two(now.getMinutes())}`;
      updateVisuals(now);
      updateCountdown(now);
      const isOpen = checkIsOpen(now);
      if (isOpen) {
          const shiftEndH = now.getDay() === 5 ? 17 : 19.5;
          const shiftEnd = new Date(now); shiftEnd.setHours(Math.floor(shiftEndH), (shiftEndH % 1) * 60, 0, 0);
          const minsLeft = Math.ceil((shiftEnd - now) / 60000);
          const motivationIdx = (now.getHours() + now.getDay()) % tickerTexts.motivation.length; 
          nextTickerContent = `‚ú® Welkom bij Frontoffice FZ&IT ‚ú® Nog ${minsLeft} minuten tot einde shift op deze ${tickerTexts.moods[now.getDay()]} ${CONFIG.days[now.getDay()]} ‚ú® ${tickerTexts.motivation[motivationIdx]} ‚ú® ${weatherString}  ${newsString} ‚ú®`;
      } else {
          nextTickerContent = `${tickerTexts.outside[now.getMinutes() % tickerTexts.outside.length]} ‚ú®`;
      }
      if (els.counter.textContent.includes("Systeem")) els.counter.textContent = nextTickerContent;
    }

    els.counter.addEventListener('animationiteration', () => { els.counter.textContent = nextTickerContent; });
    
    updateWeather();
    updateNews();
    setInterval(tick, 1000);
    setInterval(toggleLabel, 15000);
    setInterval(updateWeather, 600000);
    setInterval(updateNews, 900000);    
    tick();
    toggleLabel();
  </script>
</body>
</html>
