<!doctype html>
<!--
  =============================================================
   Backoffice Klok â€” gemaakt door Arnold den Hartog
   Afdeling: Frontoffice FZ&IT / KICK
   Versie: 2.2 â€” Video, ticker en alles compleet
  =============================================================
-->
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Klok â€” Werkdag Teller</title>
  <style>
    @font-face {
      font-family: 'GT-Walsheim-Pro-Bold';
      src: url('GT-Walsheim-Pro-Bold.otf') format('opentype');
      font-weight: bold;
    }

    :root { color-scheme: dark }
    html, body { height: 100%; margin: 0; }
    body {
      font-family: 'GT-Walsheim-Pro-Bold', system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      overflow: hidden;
      transition: background 1s ease, color 0.8s ease;
      color: #fff;
    }

    .bg-video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -2;
      transition: opacity 1s ease;
    }

    #bg-day { opacity: 1; }
    #bg-night { opacity: 0; }
    #bg-alt { opacity: 0; }

    #video-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.3);
      z-index: -1;
    }

    .wrap {
      display: flex;
      flex-direction: column;
      gap: 0.0rem;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      flex: 1;
      max-width: 1500px;
      position: relative;
      z-index: 1;
    }

    .smalltitle {
      font-family: 'GT-Walsheim-Pro-Bold', sans-serif;
      font-size: clamp(20px, 3vw, 28px);
      opacity: 0.8;
    }

    .clock { font-size: clamp(80px,14vw,400px); font-weight: 800; margin-top: 0.0rem; }

    .message {
      font-family: 'GT-Walsheim-Pro-Bold', sans-serif;
      font-size: clamp(20px,3vw,42px);
      font-weight: 600;
      transition: opacity 1s ease;
      opacity: 1;
    }

    #xmas-countdown {
      font-family: 'GT-Walsheim-Pro-Bold', sans-serif;
      font-size: clamp(12px,1.8vw,20px);
      margin-top: 0.8rem;
      opacity: 0.50;
      font-weight: 400;
    }

    #counter {
      font-family: 'GT-Walsheim-Pro-Bold', sans-serif;
      font-size: clamp(18px,2.4vw,28px);
      position: absolute;
      bottom: 1.8rem;
      width: 100%;
      animation: ticker 60s linear infinite;
      white-space: nowrap;
      left: 100%;
    }

    @keyframes ticker {
      0% { transform: translateX(0); }
      100% { transform: translateX(-200%); }
    }

    .logo {
      position: absolute;
      top: 20px;
      right: 30px;
      max-width: 300px;
      opacity: .9;
      transition: opacity .3s ease;
      z-index: 1;
    }
    .logo:hover { opacity: 1 }

    #gif-1629 {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      z-index: 10;
      display: none;
      pointer-events: none;
    }
  </style>
</head>
<body>

  <!-- Preload background video's -->
  <video autoplay muted loop id="bg-day" class="bg-video">
    <source src="background_day.mp4" type="video/mp4">
  </video>

  <video autoplay muted loop id="bg-night" class="bg-video">
    <source src="background_night.mp4" type="video/mp4">
  </video>

  <video autoplay muted loop id="bg-alt" class="bg-video">
    <source src="background_alt.mp4" type="video/mp4">
  </video>

  <div id="video-overlay"></div>
  <img src="HHS_grijs_fc copy.png" alt="Logo" class="logo" />
  <img id="gif-1629" src="homer.gif" />

  <div class="wrap">
    <div id="title" class="smalltitle">
      De tijd in de Frontoffice FZ&IT Backoffice is nu:
    </div>
    <div id="clock" class="clock">--:--</div>
    <div id="message" class="message">...</div>
    <div id="xmas-countdown"></div>
  </div>
  <div id="counter">Welkom bij Frontoffice FZ&IT!</div>

  <script>
    const two = n => String(n).padStart(2, '0');

    function setDateInTitle() {
      const title = document.getElementById('title');
      const now = new Date();
      const dagen = ["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"];
      const maanden = ["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"];
      title.textContent =
        `Het is ${dagen[now.getDay()]} ${now.getDate()} ${maanden[now.getMonth()]} ${now.getFullYear()} en de tijd bij Frontoffice FZ&IT is nu:`;
    }

    const workQuotes = {
      "08:00": "De dag is begonnen. Wat een ellende. Of toch niet ðŸ‘€",
      "08:30": "De half negen dienst is binnen (hopen we dan). Tijd om echt te knallen!",
      "09:00": "Eerste meldingen overleefd, toch? Je doet het geweldig.",
      "09:30": "Je bent op stoom, gek. Choo choo bishh ðŸš‚",
      "10:00": "Jij en de koffiemachine. Een liefdesverhaal ðŸ¥°",
      "10:30": "De ochtend is van de baas. De avond van jou",
      "11:00": "Avonddienstmodus aan (behalve op vrijdag).",
      "11:30": "Bijna lunchtijd, held.",
      "12:00": "Lunch incoming ðŸ¥ª",
      "12:30": "Snack-verantwoordelijkheid ontgrendeld.",
      "13:00": "After-lunch dip? Niet vandaag bro.",
      "13:30": "Focus level van een ninja.",
      "14:00": "Toetsenbord-marathon bezig.",
      "14:30": "Je bent unstoppable.",
      "15:00": "Nog even... Kijk nog even in TOPdesk",
      "15:30": "Bijna daar. Keep at it.",
      "16:00": "Het is bijna 16:29...",
      "16:29": "Begonnen om 8 uur? Dan NU gaannnnnn ðŸƒâ€â™‚ï¸ðŸ’¨",
      "16:30": "Werk gaat gewoon nog door, sadly ðŸ˜",
      "17:00": "Doorzetter detected.",
      "18:00": "Nog geen tweede koffie? Respect.",
      "19:30": "Vrijheid! ðŸŽ‰"
    };

    let lastQuoteKey = "";

    function setQuoteWithFade(newText) {
      const msg = document.getElementById('message');
      msg.style.opacity = 0;
      setTimeout(() => {
        msg.textContent = newText;
        msg.style.opacity = 1;
      }, 500);
    }

   function updateChristmasCountdown() {
    const countdown = document.getElementById('xmas-countdown');
    const now = new Date();
    const year = now.getFullYear();

    // Vind de laatste vrijdag vÃ³Ã³r 25 december van dit jaar
    let target = new Date(year, 11, 24, 17, 0, 0); // 24 december, 17:00
    while (target.getDay() !== 5) { // 5 = vrijdag
        target.setDate(target.getDate() - 1);
    }

    // Als het nu al voorbij is, ga naar volgend jaar
    if (now > target) {
        target = new Date(year + 1, 11, 24, 17, 0, 0);
        while (target.getDay() !== 5) {
            target.setDate(target.getDate() - 1);
        }
    }

    const diff = target - now;

    if (diff <= 0) {
        countdown.textContent = `Kerstvakantie ${target.getFullYear()}! ðŸŽ„âœ¨ Geniet ervan!`;
        return;
    }

    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
    const minutes = Math.floor((diff / (1000 * 60)) % 60);

    if (days > 0) countdown.textContent = `Nog ${days} dag(en) tot de kerstvakantie van ${target.getFullYear()}.`;
    else if (hours > 0) countdown.textContent = `Nog ${hours} uur tot de kerstvakantie van ${target.getFullYear()} ðŸŽ„`;
    else countdown.textContent = `Nog ${minutes} minuten tot de kerstvakantie van ${target.getFullYear()} ðŸŽ‰`;
}


    function updateQuote() {
      const now = new Date();
      const h = two(now.getHours());
      const m = two(now.getMinutes());
      const timeKey = `${h}:${m}`;
      let quote = workQuotes[timeKey];
      if (!quote) {
        const rounded = `${h}:${m < 30 ? "00" : "30"}`;
        quote = workQuotes[rounded] || "";
      }
      if (timeKey !== lastQuoteKey) {
        setQuoteWithFade(quote || "Aan het werk zijn we... blijf het doen!");
        lastQuoteKey = timeKey;
      }
    }

    function updateBackgroundVideo() {
      const now = new Date();
      const day = now.getDay();
      const minutes = now.getHours() * 60 + now.getMinutes();

      const vidDay = document.getElementById("bg-day");
      const vidNight = document.getElementById("bg-night");
      const vidAlt = document.getElementById("bg-alt");

      if (day >= 1 && day <= 5 && minutes === 16*60 + 29) {
        vidDay.style.opacity = 0; vidNight.style.opacity = 0; vidAlt.style.opacity = 1; return;
      }
      if (day >= 1 && day <= 5 && minutes === 16*60 + 30) {
        vidDay.style.opacity = 1; vidNight.style.opacity = 0; vidAlt.style.opacity = 0; return;
      }

      let isDay = false;
      if (day >= 1 && day <= 4) {
        if ((minutes >= 8*60 && minutes <= 16*60+29) || (minutes >= 16*60+30 && minutes <= 19*60+30)) isDay = true;
      } else if (day === 5) {
        if ((minutes >= 8*60 && minutes <= 16*60+29) || (minutes >= 16*60+30 && minutes <= 17*60)) isDay = true;
      }

      if (isDay) { vidDay.style.opacity = 1; vidNight.style.opacity = 0; vidAlt.style.opacity = 0; }
      else { vidDay.style.opacity = 0; vidNight.style.opacity = 1; vidAlt.style.opacity = 0; }
    }

  function updateClockAndCounter() {
  const now = new Date();
  const h = two(now.getHours());
  const m = two(now.getMinutes());
  const dayNumber = now.getDay();
  const dagen = ["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"];
  const dayName = dagen[dayNumber];

  document.getElementById('clock').textContent = `${h}:${m}`;

  // Eindtijd bepalen (17:00 op vrijdag, 19:30 op andere dagen)
  let endTime;
  if (dayNumber === 5) {
    endTime = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 17, 0, 0);
  } else {
    endTime = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 19, 30, 0);
  }

  // Minuten die nog over zijn
  const minutesLeft = Math.ceil((endTime - now) / 60000);

  // --- Motivatielevels (23 stuks) ---
  const messages = [
    "Nog even afzien, held. De koffie is sterker dan jij, maar je leeft nog",
    "Jij draait als een oude follow me printer. Piepend, maar functioneel",
    "Je houdt het vol, al voelt het alsof je in een kamer zonder verwarming zit. Wat half waar is",
    "Je zit in een prima flow. Niet geweldig, niet slecht, gewoon â€˜tsja, werkâ€™",
    "Systemen crashen? Jij niet. Jij bent de laatste Directory Manager die overeind blijft",
    "Je hebt de vibe van iemand die Azure AD met Ã©Ã©n hand kan fixen",
    "Je bent officieel â€˜boven verwachting functionerendâ€™, al staat het nergens",
    "De energie komt op gang. Je bent basically een menselijke OpenIDM-sync",
    "Je gaat harder dan Ozan die een teamuitje plant",
    "Dit begint op iets indrukwekkends te lijken. De backoffice voelt je aanwezigheid",
    "Halverwege en je straalt als een monitor in het donker",
    "Je hebt meer momentum dan Fast X in 4D",
    "Je dendert door processen als een incident waar geen kennisitem voor bestaat",
    "Je workflow is smoother dan een Gusto-lasagne",
    "De eindtijd voelt ineens realistisch. Tijd? Tijd is een illusie. Jij niet",
    "Je bent on fire. Als iemand nu belt met â€˜mijn wachtwoord werkt nietâ€™â€” you got this",
    "Je bent basically de Functioneel Beheerder Onstage van deze werkdag.",
    "Je houdt de boel bij elkaar als duct tape in een serverruimte",
    "Je bent sneller dan het moment dat DM eindelijk werd uitgefaseerd",
    "Ruik je die finish al? Hij ruikt naar vrijheid en een warme jas",
    "Laatste fase. Je gaat als een tierelier. De tijd is bang voor jou",
    "Nog hÃ©Ã©l even en je ontsnapt uit deze digitale jungle als een ware ontsnappingskunstenaar",
    "JIJ. BENT. EEN. LEGENDE. De eindtijd buigt voor je. Het universum applaudisseert"
  ];

  // --- Bepalen welk motivatielevel hoort bij de huidige tijd ---
  const bucketSize = 30;   // elke 30 minuten next level
  const maxMinutes = 690;  // totaal 11,5 uur
  const totalBuckets = messages.length;

  const bucketIndex = Math.min(
    totalBuckets - 1,
    Math.floor((maxMinutes - minutesLeft) / bucketSize)
  );

  const motivationMessage = messages[bucketIndex];

  // --- Superlatieven voor maandag t/m vrijdag ---
  const dayMoodWords = [
    "mooie",           // zondag
    "vreselijke",      // maandag
    "matige",          // dinsdag
    "neutrale",        // woensdag
    "prima",           // donderdag
    "fantastische",    // vrijdag
    "mooie"            // zaterdag
  ];

  const moodWord = dayMoodWords[dayNumber] || "";

  // Final output
  document.getElementById('counter').textContent =
    `âœ¨ Welkom bij Frontoffice FZ&IT âœ¨ Succes met je dienst op deze ${moodWord} ${dayName} ` +
    `âœ¨ Er zijn nog ${minutesLeft} minuten te gaan tot het einde van de shift van deze werkdag âœ¨ ${motivationMessage} âœ¨`;
}


// (optionele) helperfunctie als je die later nog gebruikt
function getMotivationMessage(minutesLeft, totalMinutes) {
  const segments = messages.length;
  const fraction = 1 - (minutesLeft / totalMinutes);
  const index = Math.min(
    segments - 1,
    Math.floor(fraction * segments)
  );
  return messages[index];
}



    /* INIT + INTERVAL */
    updateClockAndCounter();
    updateQuote();
    updateChristmasCountdown();
    updateBackgroundVideo();
    setDateInTitle();

    setInterval(() => {
      updateClockAndCounter();
      updateQuote();
      updateChristmasCountdown();
      updateBackgroundVideo();
      setDateInTitle();
    }, 1000);
  </script>
</body>
</html>
